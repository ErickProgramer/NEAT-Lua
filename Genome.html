<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>



<h2>Contents</h2>
<ul>
<li><a href="#Methods">Methods</a></li>
</ul>


<h2>Classes</h2>
<ul class="nowrap">
  <li><strong>Genome</strong></li>
</ul>

</div>

<div id="content">

<h1>Class <code>Genome</code></h1>
<p>Genome manipulation</p>
<p></p>


<h2><a href="#Methods">Methods</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#genome:new">genome:new (n_inputs, n_outputs)</a></td>
	<td class="summary">Creates a new Genome object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:setupMutateProbs">genome:setupMutateProbs (info)</a></td>
	<td class="summary">Setups the probabilities for each mutation happens when call the `:mutate` method</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:addActivationFunction">genome:addActivationFunction (f)</a></td>
	<td class="summary">Adds a new activation function that can be used by the class</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:mutateChangeActivation">genome:mutateChangeActivation ()</a></td>
	<td class="summary">Choose a random node and change its activation function</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:mutateSplitConnection">genome:mutateSplitConnection (connection)</a></td>
	<td class="summary">Slipts a connection, if not passed, it chooses a random connection and split it.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:mutate">genome:mutate ()</a></td>
	<td class="summary">Mutates the Network randomly based on the probabilities setted</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:forward">genome:forward (input)</a></td>
	<td class="summary">Makes the forward process and returns a vector</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:takeAction">genome:takeAction (inp)</a></td>
	<td class="summary">Returns an integer number which represents what action the AI did.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#genome:getExcess">genome:getExcess (nn)</a></td>
	<td class="summary">returns the number of excess genes
 the excess is how much connections passed of the limit?</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Methods"></a>Methods</h2>

    <dl class="function">
    <dt>
    <a name = "genome:new"></a>
    <strong>genome:new (n_inputs, n_outputs)</strong>
    </dt>
    <dd>
    Creates a new Genome object


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n_inputs</span>
          integer
        </li>
        <li><span class="parameter">n_outputs</span>
         integer
        </li>
    </ul>





</dd>
    <dt>
    <a name = "genome:setupMutateProbs"></a>
    <strong>genome:setupMutateProbs (info)</strong>
    </dt>
    <dd>
    Setups the probabilities for each mutation happens when call the `:mutate` method


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">info</span>

        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../index.html#genome:mutate">mutate</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> mynn = Genome.<span class="function-name">new</span>(<span class="number">3</span>, <span class="number">1</span>)
mynn:<span class="function-name">setupMutateProbs</span>{
 activationChange = <span class="number">0.2</span>, <span class="comment">-- 20% chance to an activation function be changed
</span> splitConnection = <span class="number">0.3</span>, <span class="comment">-- 30% chance to a connection be splitted
</span> weightChange = <span class="number">0.5</span> <span class="comment">-- 50% chance to a weight value be changed
</span> newConnection = <span class="number">0.1</span> <span class="comment">-- 10% chance to a connection be created
</span>}</pre>
    </ul>

</dd>
    <dt>
    <a name = "genome:addActivationFunction"></a>
    <strong>genome:addActivationFunction (f)</strong>
    </dt>
    <dd>
    Adds a new activation function that can be used by the class


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>

        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="../index.html#genome:setupMutateProbs">setupMutateProbs</a></li>
         <li><a href="../index.html#genome:mutate">mutate</a></li>
    </ul>


</dd>
    <dt>
    <a name = "genome:mutateChangeActivation"></a>
    <strong>genome:mutateChangeActivation ()</strong>
    </dt>
    <dd>
    Choose a random node and change its activation function





    <h3>See also:</h3>
    <ul>
         <li><a href="../index.html#genome:setupMutateProbs">setupMutateProbs</a></li>
         <li><a href="../index.html#genome:mutate">mutate</a></li>
    </ul>


</dd>
    <dt>
    <a name = "genome:mutateSplitConnection"></a>
    <strong>genome:mutateSplitConnection (connection)</strong>
    </dt>
    <dd>
    Slipts a connection, if not passed, it chooses a random connection and split it.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">connection</span>
        [opt] table
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="../index.html#genome:setupMutateProbs">setupMutateProbs</a></li>
         <li><a href="../index.html#genome:mutate">mutate</a></li>
    </ul>


</dd>
    <dt>
    <a name = "genome:mutate"></a>
    <strong>genome:mutate ()</strong>
    </dt>
    <dd>
    Mutates the Network randomly based on the probabilities setted





    <h3>See also:</h3>
    <ul>
         <a href="../index.html#genome:setupMutateProbs">setupMutateProbs</a>
    </ul>


</dd>
    <dt>
    <a name = "genome:forward"></a>
    <strong>genome:forward (input)</strong>
    </dt>
    <dd>
    Makes the forward process and returns a vector


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">input</span>
         table
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="global">math</span>.<span class="function-name">randomseed</span>(<span class="number">69</span>) <span class="comment">-- for same results
</span><span class="keyword">local</span> nn = Genome.<span class="function-name">new</span>(<span class="number">3</span>, <span class="number">4</span>) <span class="comment">-- receives 3 inputs and produces 4 numbers
</span>
<span class="keyword">for</span> i, in_node <span class="keyword">in</span> <span class="global">ipairs</span>(nn.nodes.input) <span class="keyword">do</span>
    <span class="keyword">for</span> j, out_node <span class="keyword">in</span> <span class="global">ipairs</span>(nn.nodes.output) <span class="keyword">do</span>
        nn:<span class="function-name">newConnection</span>(in_node, out_node)
    <span class="keyword">end</span>
<span class="keyword">end</span>
 <span class="comment">-- We can send input only for selected input nodes.
</span> <span class="comment">-- In this case, only the 2nd input node will receive a value
</span> <span class="comment">-- the rest will be setted as 0
</span><span class="keyword">local</span> out = nn:<span class="function-name">forward</span>({ [<span class="number">2</span>] = <span class="number">3</span> })
<span class="global">print</span>(<span class="global">table</span>.<span class="function-name">concat</span>(out, <span class="string">", "</span>)) <span class="comment">-- 1.1413761962552, 1.7518015494614, 2.1827942531713, 1.1897555017687</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "genome:takeAction"></a>
    <strong>genome:takeAction (inp)</strong>
    </dt>
    <dd>
    Returns an integer number which represents what action the AI did.
 it's like the `forward` method but instead of return a vector with the outputs, it returns the "action" of the AI
 based on the maximum value. It's useful when you want an AI to play a game and make it do actions


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">inp</span>
         table
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../index.html#genome:forward">forward</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> mynn = Genome.<span class="function-name">new</span>(<span class="number">3</span>, <span class="number">5</span>) <span class="comment">-- receives 3 inputs, and can do 5 actions
</span><span class="keyword">local</span> JUMP = <span class="number">1</span>
<span class="keyword">local</span> WALK_LEFT = <span class="number">2</span>
<span class="keyword">local</span> WALK_RIGHT = <span class="number">3</span>
<span class="keyword">local</span> WALK_STOP = <span class="number">4</span>
<span class="keyword">local</span> ATTACK = <span class="number">5</span>

<span class="keyword">local</span> action = mynn:<span class="function-name">takeAction</span>(Game.<span class="function-name">getState</span>())
<span class="keyword">if</span> action == JUMP <span class="keyword">then</span>
 Game.<span class="function-name">jump</span>()
<span class="keyword">elseif</span> action == WALK_LEFT <span class="keyword">then</span>
 Game.<span class="function-name">walkLeft</span>()
<span class="keyword">elseif</span> action == WALK_RIGHT <span class="keyword">then</span>
 Game.<span class="function-name">walkRight</span>()
<span class="keyword">elseif</span> action == WALK_STOP <span class="keyword">then</span>
 Game.<span class="function-name">walkStop</span>()
<span class="keyword">elseif</span> action == ATTACK <span class="keyword">then</span>
 Game.<span class="function-name">attack</span>()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "genome:getExcess"></a>
    <strong>genome:getExcess (nn)</strong>
    </dt>
    <dd>
    returns the number of excess genes
 the excess is how much connections passed of the limit?


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">nn</span>

        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-12-11 14:05:27 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
